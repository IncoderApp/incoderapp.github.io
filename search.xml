<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Lawrefbook</title>
      <link href="/2022/06/01/lawrefbook/"/>
      <url>/2022/06/01/lawrefbook/</url>
      
        <content type="html"><![CDATA[<p>简单来概括《中国法律》应用是一款可以离线查看的法律快查应用</p><table><thead><tr><th align="center">兼容</th><th align="center">JDK</th><th align="center">编译</th></tr></thead><tbody><tr><td align="center"><a href="https://developer.android.google.cn/reference"><img src="https://img.shields.io/badge/Compatibleby-SDK%2024%20~%2031-06?logo=Android&labelColor=02303A"></a></td><td align="center"><a href="https://www.oracle.com/cn/java/technologies/javase/javase-jdk8-downloads.html"><img src="https://img.shields.io/badge/Use%20up%20by-JDK%201.8+-important?logo=java&labelColor=02303A"></a></td><td align="center"><a href="https://docs.gradle.org/7.3.3/release-notes.html"><img src="https://img.shields.io/badge/Build%20up%20by-Gradle%207.3.3%20bin-06A0CE?logo=Gradle&labelColor=02303A"></a></td></tr></tbody></table><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>五月迷上了网易云一个名为《<a href="http://music.163.com/radio/?id=966568618&userid=34509906">法外狂徒张三</a>》的电台，众所周知 “法外狂徒张三” 是罗老师口中常常为了讲解法律而虚拟的人物，最早看过几个罗老师的视频，印象很深，把枯燥无味的法律教条，以故事结合时事让我这个没有任何法律学习基础的非专业人士，也能听得入神，不得不被罗老师的幽默风趣的文学和对法律的严谨折服。引导了我偶尔也会去看看法律的文字了，翻着翻着，这不巧了嘛，在 Github 上看到了一个整理了相关法律的数据项目，已经有了 iOS 版本的应用，也有了 Web 网站，就差一个 Android 应用了。那就让我这个曾经的 Android 开发选手来为之添砖加瓦，于是有了现在的这个项目</p><p>项目遵循极简的项目依赖，简约的页面设计，实用的功能，就这样，一鼓作气在业余时间完成了项目开发。当然这里面还有很多的优化完善空间，但依然按捺不住想写一篇文章记录这个项目</p><h2 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h2><ol><li>聚合 <a href="https://flk.npc.gov.cn/">国家法律法规数据库</a>，<a href="https://www.court.gov.cn/">最高人民法院</a> 网站数据</li><li>离线使用</li><li>全文，片段法条收藏</li><li>文本分享</li><li>层级目录</li><li>高亮检索</li></ol><h2 id="页面预览"><a href="#页面预览" class="headerlink" title="页面预览"></a>页面预览</h2><table><thead><tr><th align="center">主页</th><th align="center">内容页</th><th align="center">个人页</th></tr></thead><tbody><tr><td align="center"><img src="https://res.cloudinary.com/incoder/image/upload/v1654225895/incoderapp/lawrefbook/feed.jpg"></td><td align="center"><img src="https://res.cloudinary.com/incoder/image/upload/v1654225910/incoderapp/lawrefbook/article.jpg"></td><td align="center"><img src="https://res.cloudinary.com/incoder/image/upload/v1654225840/incoderapp/lawrefbook/about.jpg"></td></tr><tr><td align="center">历史</td><td align="center">目录</td><td align="center">收藏</td></tr><tr><td align="center"><img src="https://res.cloudinary.com/incoder/image/upload/v1654225919/incoderapp/lawrefbook/history.jpg"></td><td align="center"><img src="https://res.cloudinary.com/incoder/image/upload/v1654225900/incoderapp/lawrefbook/catalog.jpg"></td><td align="center"><img src="https://res.cloudinary.com/incoder/image/upload/v1654225863/incoderapp/lawrefbook/favorite.jpg"></td></tr><tr><td align="center">搜索文章</td><td align="center">搜索内容</td><td align="center">等等</td></tr><tr><td align="center"><img src="https://res.cloudinary.com/incoder/image/upload/v1654225818/incoderapp/lawrefbook/title-search.jpg"></td><td align="center"><img src="https://res.cloudinary.com/incoder/image/upload/v1654225819/incoderapp/lawrefbook/article-search.jpg"></td><td align="center">……</td></tr></tbody></table><h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><ol><li><a href="https://www.coolapk.com/apk/app.incoder.lawrefbook">Coolapk</a></li><li><a href="https://play.google.com/store/apps/details?id=app.incoder.lawrefbook">Google Play</a></li></ol><h2 id="开发寄语"><a href="#开发寄语" class="headerlink" title="开发寄语"></a>开发寄语</h2><ol><li>当前版本为离线应用；</li><li>应用遵循 Material Design 风格；</li><li>应用上架酷安，Google Play 应用市场；</li><li>应用完全开源，如有需要请遵循开源协议自行提取</li></ol><blockquote><p>应用还有很多需要优化的点，我会继续努力 💪</p></blockquote><h2 id="隐私协议"><a href="#隐私协议" class="headerlink" title="隐私协议"></a>隐私协议</h2><p>项目未集成第三方内库，所以没有任何的隐私问题，且项目完全开源</p><h2 id="致谢"><a href="#致谢" class="headerlink" title="致谢"></a>致谢</h2><p>本项目特别感谢 <a href="https://github.com/LawRefBook/Laws">@RanKKI</a> 提供开源数据，并使用了 <a href="https://github.com/RanKKI/LawRefBook">LawRefBook</a> 项目 icon，以及部分功能参考</p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 中国法律 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Github Action 自动部署网站</title>
      <link href="/2021/06/29/github-action-auto/"/>
      <url>/2021/06/29/github-action-auto/</url>
      
        <content type="html"><![CDATA[<p>简单来说 <a href="https://github.com/features/actions">Github Action</a> 是 <a href="https://github.com/">GitHub</a> 提供的一项支持自动化构建项目，发布项目等一些列自动化的 CI 工具，在一定程度上让我们的开发工作，发布工作更加优雅和安全（只需要配置好相关的执行脚本），让我们更加专注于你所作事情的本身内容</p><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>和之前构建个人博客一样，将源码和生成的静态网站文件都放在同一个 Github 仓库中，master(或 main) 分支存放编译后的产物，hexo 存放项目的源代码，不同的是这次是直接依赖于 <a href="https://github.com/features/actions">Github Action</a> 来进行构建和发布，网站使用 <a href="https://www.yarnpkg.cn/">Yarn</a> 进行包管理</p><h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><h3 id="添加构建脚本"><a href="#添加构建脚本" class="headerlink" title="添加构建脚本"></a>添加构建脚本</h3><p>在项目源码分支的根目录，添加 <mark class="hl-label blue">.github</mark> ，<mark class="hl-label blue">workflows</mark>  文件夹，并添加 <mark class="hl-label pink">file-name.yml</mark>  文件（我这里命名为 action.yml），结构如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">incoderapp.github.io/</span><br><span class="line">    ├── .github/workflows/             # action 相关文件夹</span><br><span class="line">    │   └── action.yml                 # 执行任务配置文件</span><br><span class="line">    ├── scaffolds/</span><br><span class="line">    ├── source/</span><br><span class="line">    ├── themes/</span><br><span class="line">    ├── _config.butterfly.yml</span><br><span class="line">    ├── _config.yml</span><br><span class="line">    ├── .gitignore</span><br><span class="line">    ├── LICENSE</span><br><span class="line">    ├── package.json</span><br><span class="line">    ├── README.md</span><br><span class="line">    └── yarn.lock</span><br></pre></td></tr></table></figure><p>action.yml 文件的配置命令如下所示</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">CI</span></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">hexo</span></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="string">branch</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Install</span> <span class="string">dependencies</span></span><br><span class="line">        <span class="attr">if:</span> <span class="string">steps.cache.outputs.cache-hit</span> <span class="type">!=</span> <span class="string">&#x27;true&#x27;</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">yarn</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Hexo</span> <span class="string">clean</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">heowc/action-hexo@main</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">args:</span> <span class="string">clean</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Hexo</span> <span class="string">generate</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">heowc/action-hexo@main</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">args:</span> <span class="string">generate</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">to</span> <span class="string">master</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">peaceiris/actions-gh-pages@v3</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">personal_token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.CI_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">external_repository:</span> <span class="string">IncoderApp/incoderapp.github.io</span></span><br><span class="line">          <span class="attr">publish_branch:</span> <span class="string">master</span></span><br><span class="line">          <span class="attr">publish_dir:</span> <span class="string">./public</span></span><br></pre></td></tr></table></figure><h3 id="添加相关配置"><a href="#添加相关配置" class="headerlink" title="添加相关配置"></a>添加相关配置</h3><p>我们需要在项目的 Settings 标签中添加一个 Secrets，用于部署访问仓库的 Token，关于生成项目的 Token</p><ul><li><kbd>Github</kbd>-&gt;<kbd>头像（右上角）</kbd>-&gt;<kbd>Settings</kbd>-&gt;<kbd>Developer Settings</kbd>-&gt;<kbd>Personal access tokens</kbd></li><li>勾选 <kbd>repo</kbd></li><li>复制生成的 tocken（生成的token只有一次可见机会，请妥善保存），添加到项目的 Settings 标签中 Secrets 选项，并命名为 <mark class="hl-label pink">CI_TOKEN</mark> </li></ul><h3 id="编译及测试"><a href="#编译及测试" class="headerlink" title="编译及测试"></a>编译及测试</h3><p>当我们有 push 动作到 hexo 分支，Github Action 会自动进行安装我们的构建任务执行，我们需要关注项目 Action 标签页，如果有错误，在 Action 标签页中查看相关的错误并解决，当然为了我们方便直观的查看项目的构建情况，我们可以按照官方给定的特殊写法，通过徽章的形式，方便的查看项目的构建结果，比如我这里就按照官方写法 <img src="https://github.com/IncoderApp/incoderapp.github.io/actions/workflows/action.yml/badge.svg?branch=hexo"></img></p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li><a href="https://docs.github.com/cn/actions">Github Action 官方文档</a></li><li><a href="https://lovobin.github.io/2021/03/11/55808">Github-Actions-自动化部署总结</a></li><li><a href="https://docs.github.com/cn/actions/managing-workflow-runs/adding-a-workflow-status-badge">添加工作流程状态徽章</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Build </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Github Action </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
